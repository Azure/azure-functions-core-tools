parameters:
  - name: ridFolders
    type: object
  - name: signPatterns
    type: string

steps:
- ${{ each ridDir in parameters.ridFolders }}:
- template: ci/sign-files.yml@eng
  parameters:
    displayName: 'Mac signing'
    folderPath: '$(Build.ArtifactStagingDirectory)/artifacts-zipped/${{ ridDir }}'
    pattern: '*.zip' # pattern: ${{ parameters.signPatterns }} ?
    signType: inline
    inlineOperation: |
      [
        {
            "KeyCode" : "CP-401337-Apple",
            "OperationCode" : "MacAppDeveloperSign",
            "Parameters" : {},
            "ToolName" : "sign",
            "ToolVersion" : "1.0"
        }
      ]